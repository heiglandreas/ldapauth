# LdapAuthA tiny library to help with LDAP authentication in PHP## Installation```bash$ composer require org_heigl/ldapauth```## UsageYou can then authenticate a user against an LDAP Server like this:```phpuse Org_Heigl\Password\Password;$user = 'user';$password = Password::createFromPlainText('password');$uri = LdapUri::fromString(			'ldaps://user:password@ldap.example.com/dc=example,dc=com'		);$authenticator = LdapAuth::fromUri($uri);try {	$result = $authenticator->authenticate($user, $password);	echo sprintf(		"successfully authenticated user %1 with DN %2",		$user,		$result->userDn()	);} catch (AuthenticationFailed $e) {	echo sprintf(		"something went wrong: Got Failure code %1 with message %2",		$e->getCode(),		$e->getMessage()	);}```Note that this is only authenticating the user. No authorization is checked here.To also check authorization we need a bit more configuration like this:```phpuse Org_Heigl\Password\Password;$user = 'user';$password = Password::createFromPlainText('password');$uri = LdapUri::fromString(			'ldaps://user:password@ldap.example.com/dc=example,dc=com'		);$options = LdapOptions::withLdapUri($uri)			->withGroupFilter('(uniqueMember=%dn%)')			->withUserInGroup()			->withGroupAttributeMatch('cn', ['group1', 'group2']);$authenticator = LdapAuth::fromOptions($options);try {	$result = $authenticator->authenticate($user, $password);	echo sprintf(		"successfully authenticated user %1 with DN %2",		$user,		$result->userDn()	);	$result = $authenticator->authorize($result);	echo sprintf(		"successfully authorized user %1 with DN %2 as they belong to group %3",		$user,		$result->userDn(),		$result->groupIdentifier()	);} catch (AuthenticationFailed $e) {	echo sprintf(		"something went wrong: Got Failure code %1 with message %2",		$e->getCode(),		$e->getMessage()	);}```This will first authenticate the user (verify that username and password match) and thencheck whether the user belongs to a group that have a cn of either "group1" or "group2"